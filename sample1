using OpenQA.Selenium;
using OpenQA.Selenium.Chrome;
using OpenQA.Selenium.Support.UI;
using System;

class Program
{
    static void Main()
    {
        // Start a new Chrome instance
        IWebDriver driver = new ChromeDriver();
        driver.Navigate().GoToUrl("http://your-wrong-url.com");

        try
        {
            // Wait for the page to load
            WebDriverWait wait = new WebDriverWait(driver, TimeSpan.FromSeconds(10));
            wait.Until(d => d.Title.Length > 0); // Wait for page to load by checking the title

            // Get the page title
            string pageTitle = driver.Title;
            Console.WriteLine("Page Title: " + pageTitle);

            // Check if the page title contains an error message
            if (pageTitle.Contains("Server Error") || pageTitle.Contains("Error"))
            {
                Console.WriteLine("Server Error detected based on page title.");
            }
            else
            {
                // Optionally, check the page body text for specific error messages
                string pageSource = driver.PageSource;

                if (pageSource.Contains("500 Internal Server Error") || pageSource.Contains("404 Not Found"))
                {
                    Console.WriteLine("Server Error detected based on page content.");
                }
                else
                {
                    Console.WriteLine("No server error detected.");
                }
            }
        }
        catch (WebDriverTimeoutException)
        {
            Console.WriteLine("Page load timed out.");
        }
        finally
        {
            // Close the browser
            driver.Quit();
        }
    }
}
