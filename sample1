using System;
using System.Collections.Generic;
using Newtonsoft.Json;
using Newtonsoft.Json.Linq;

namespace JsonExample
{
    class Program
    {
        static void Main(string[] args)
        {
            // Your JSON string
            string jsonString = @"
            {
                'trigger payload': {
                    'trigger Inputs': {
                        'project_name': 'AdditionalEntityForSameClient',
                        'project_id': 483,
                        'oubynoligar code': 'CSLIMP',
                        'country_id': 'CSLIMP',
                        'company_number': 'AdditionalEntity',
                        'run name': 'AdditionalEntityForSameClient',
                        'xref': 'CSLIMP999',
                        'bpa unor mail id': '',
                        'additional Properties': 1,
                        'tools': [
                            {
                                'name': 'p_id',
                                'value': 3200001
                            },
                            {
                                'name': 'sequence_id',
                                'value': 1
                            },
                            {
                                'name': 'param',
                                'value': [
                                    {
                                        'param_name': 'CelergoEnvironment',
                                        'param value': 'Delaro Stage (51)'
                                    },
                                    {
                                        'param_name': 'ClientName',
                                        'param value': 'TestN001'
                                    },
                                    {
                                        'param_name': 'PayrollasList',
                                        'param value': 'TestPN'
                                    },
                                    {
                                        'param_name': 'ClientCode',
                                        'param value': 'TestCcodialPropectin'
                                    }
                                ]
                            }
                        ],
                        'additional Properties': 1
                    },
                    'run name': 'AdditionalEntityForSameClient',
                    'subject': 'Trigger CSLIMP',
                    'description': 'WATT,'
                }
            }";

            // Parse JSON
            JObject jsonObject = JObject.Parse(jsonString);

            // Navigate to the 'param' list
            var tools = jsonObject["trigger payload"]["trigger Inputs"]["tools"];
            foreach (var tool in tools)
            {
                if (tool["name"].ToString() == "param")
                {
                    var paramArray = tool["value"];
                    foreach (var param in paramArray)
                    {
                        string paramName = param["param_name"].ToString();
                        Console.WriteLine("Param Name: " + paramName);
                    }
                }
            }
        }
    }
}
