using System;
using System.Text.Json;
using System.Text.Json.Nodes;

class Program
{
    static void Main()
    {
        string jsonString = "{\"triggerInputs\":{\"subcategory\":{\"param_value\":\"sai\",\"param_name\":\"Name\"}}}";

        // Parse the JSON string into a JsonNode
        var jsonObject = JsonNode.Parse(jsonString);

        // Find the param_value for the given param_name
        string paramNameToFind = "Name";
        string paramValue = FindParamValue(jsonObject, paramNameToFind);

        Console.WriteLine($"param_value for param_name '{paramNameToFind}': {paramValue}");
    }

    static string FindParamValue(JsonNode node, string paramNameToFind)
    {
        if (node is JsonObject jsonObject)
        {
            foreach (var kvp in jsonObject)
            {
                var value = kvp.Value;
                if (value is JsonObject || value is JsonArray)
                {
                    string result = FindParamValue(value, paramNameToFind);
                    if (result != null)
                    {
                        return result;
                    }
                }
                else if (kvp.Key == "param_name" && value?.ToString() == paramNameToFind)
                {
                    // Assuming param_value is at the same level as param_name
                    return jsonObject["param_value"]?.ToString() ?? string.Empty;
                }
            }
        }
        else if (node is JsonArray jsonArray)
        {
            foreach (var item in jsonArray)
            {
                string result = FindParamValue(item, paramNameToFind);
                if (result != null)
                {
                    return result;
                }
            }
        }
        return null;
    }
}
