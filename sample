using System;
using System.Data;
using System.Linq;

class Program
{
    static void Main()
    {
        DataTable dataTable = CreateDataTable();

        int rowIndex = 2; // Specify the row index to delete up to (exclusive)

        DeleteRowsUntilIndex(dataTable, rowIndex);

        // Display the modified DataTable
        foreach (DataRow row in dataTable.Rows)
        {
            Console.WriteLine(string.Join(", ", row.ItemArray));
        }
    }

    static DataTable CreateDataTable()
    {
        DataTable dataTable = new DataTable();
        dataTable.Columns.Add("ID", typeof(int));
        dataTable.Columns.Add("Name", typeof(string));

        dataTable.Rows.Add(1, "John");
        dataTable.Rows.Add(2, "Jane");
        dataTable.Rows.Add(3, "Doe");

        return dataTable;
    }

    static void DeleteRowsUntilIndex(DataTable dataTable, int rowIndex)
    {
        // Create a range of row indices up to the specified rowIndex
        var indicesToDelete = Enumerable.Range(0, Math.Min(rowIndex, dataTable.Rows.Count));

        // Convert the range to a list and iterate through each index to remove the rows
        indicesToDelete.ToList().ForEach(index =>
        {
            dataTable.Rows.RemoveAt(0); // Remove the row at the current index
        });
    }
}
